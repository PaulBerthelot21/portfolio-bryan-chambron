---
import Layout from "../../layouts/Layout.astro";
import { getLangFromUrl, useTranslations } from "../../i18n/ui";
import WelcomeSection from "../../components/WelcomeSection.astro";
import SocialFeeds from "../../components/SocialFeeds.astro";

export function getStaticPaths() {
	return [
		// Route pour la page française (par défaut)
		{ params: { lang: undefined } },
		// Route pour la page anglaise
		{ params: { lang: "en" } },
	];
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const ctaLink = lang === "fr" ? "/about/" : "/en/about/";
---

<Layout title={t("welcome.title")}>
	<!-- Section d'accueil avec hauteur minimale -->
	<section class="py-16 md:py-24">
		<div class="container mx-auto px-4 max-w-7xl">
			<WelcomeSection
				title={t("welcome.title")}
				subtitle={t("welcome.subtitle")}
				ctaText={t("welcome.cta")}
				ctaLink={ctaLink}
				profileImageSrc="/assets/bryan_chambron_1.heic"
				profileImageAlt="Bryan Chambron"
			/>
		</div>
	</section>

	<!-- Section des réseaux sociaux avec couleur de fond différente -->
	<SocialFeeds
		instagramUsername="bryan_chambron"
		twitchUsername="afstream_"
		showTwitchChat={true}
		title={lang === "fr"
			? "Suivez-moi sur les réseaux"
			: "Follow me on social media"}
	/>
</Layout>

